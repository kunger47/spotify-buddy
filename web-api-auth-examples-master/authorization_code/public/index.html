<!doctype html>
<html>
  <head>
    <title>Spotify Buddy</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles/index.css">
  </head>

  <body>
    <article>
      <header>
        Spotify Buddy
      </header>

      <div id="login">
        <a href="/login" id="login-btn" class="btn btn-primary search-btn">Let's Do This</a>
      </div>

      <div id="loggedin">
        <div id="user-profile"></div>

        <div id="oauth"></div>

        <div id="get-playlists">
          <button class="btn btn-default search-btn" id="get_user_playlists">Get My Playlists</button>
          <div id="playlist-progress-status">
            <label for="downloading-playlists">Gathering Playlists </label>
            <progress id="downloading-playlists" value="0" max="100"></progress>
          </div>
          <p id="playlist-count"></p>
          <div id="resulting-playlists"></div>
        </div>

        <div id="get-songs">
          <button class="btn btn-default search-btn" id="get_user_songs">Get Songs</button>
          <div id="song-count"></div>
          <div id="song-progress-status">
            <label for="downloading-songs">Gathering Saved Songs </label>
            <progress id="downloading-songs" value="0" max="100"></progress>
          </div>
          <div id="playlist-song-progress-status">
            <label for="downloading-playlist-songs">Gathering Playlist Songs </label>
            <progress id="downloading-playlist-songs" value="0" max="100"></progress>
          </div>
          <div id="artist-progress-status">
            <label for="downloading-artists">Gathering Some More Data</label>
            <progress id="downloading-artists" value="0" max="100"></progress>
          </div>
        </div>

        <div id="filter-songs">
          <div id="filter-form">
            <h3>Enter Filter Fields</h4>
            <form>
              <fieldset>
                <label>Enter Year</label>
                <input id="year" placeholder="yyyy">
              </fieldset>
              <fieldset>
                <label>Enter Month</label>
                <input id="month" placeholder="mm">
              </fieldset>
              <fieldset>
                <label>Enter Day</label>
                <input id="day" placeholder="dd">
              </fieldset>

              <fieldset>
                <label>Enter Number of Artists On Track</label>
                <input id="NumOfArtists" placeholder="#">
              </fieldset>

              <fieldset>
                <label>Select Genre</label>
                <select id="genre-list">
                  <option value="1">Select One...</option>
                </select>
              </fieldset>

              <fieldset>
                <label>Enter Genre Keyword</label>
                <input id="genre-keyword" placeholder="Search Genre">
              </fieldset>

              <fieldset>
                <label>Search Song Titles</label>
                <input id="title-keyword" placeholder="Search Titles">
              </fieldset>

              <fieldset>
                <label>Search Album Titles</label>
                <input id="album-keyword" placeholder="Search Albums">
              </fieldset>

              <fieldset>
                <label>Search Artists Titles</label>
                <input id="artist-keyword" placeholder="Search Artists">
              </fieldset>

              <fieldset>
                <label>Remove Explicit Songs?</label>
                <input type="checkbox" id="explicit-keyword">
              </fieldset>

              <fieldset class="slidecontainer">
                <input type="range" min="0" max="100" value="0" class="slider" id="popularity-filter">
                <p>Popularity <input type="button" id="popularity-compare" value=">="></input> <span id="popularity-value"></span></p>
              </fieldset>

              <fieldset class="slidecontainer">
                <input type="range" min="0" max="10" value="0" class="slider" id="length-filter">
                <p>Song Length <input type="button" id="length-compare" value=">="></input> <span id="length-value"></span> min(s)</p>
              </fieldset>
            </form>
          </div>
          <button class="btn btn-default search-btn" id="filter-by-all">Filter Songs</button>
          <div id="filter-song-count"></div>
        </div>

        <div id="select-songs">
          <div id="resulting-tracks"></div>
          <div>
            <button class="btn btn-default search-btn" id="load-more-songs">Load More Songs</button>
          </div>
          <input id="playlist-name" placeholder="Enter Playlist Name">
          <button class="btn btn-default search-btn" id="save-songs-to-playlist">Save as Playlist</button>
          <div id="saved-message">Successfully Saved Playlist to Your Account!</div>
          <div id="updated-message">Successfully Updated Playlist!</div>
          <div id="save-progress-status">
            <label for="saving-playlist">Saving Playlist</label>
            <progress id="saving-playlist" value="0" max="100"></progress>
          </div>
          <div>
            <button class="btn btn-default search-btn" id="compare-user-data">Compare All Users Filtered Songs</button>
          </div>
        </div>

        <div id="select-matching-songs">
          <div id="matching-song-count"></div>
          <div id="matching-tracks"></div>
          <input id="matching-playlist-name" placeholder="Enter Playlist Name">
          <button class="btn btn-default search-btn" id="save-matching-songs-to-playlist">Save as Playlist</button>
          <div id="save-matching-progress-status">
            <label for="saving-matching-playlist">Saving Playlist</label>
            <progress id="saving-matching-playlist" value="0" max="100"></progress>
          </div>
          <div id="saved-matching-message">Successfully Saved Playlist to Your Account!</div>
        </div>

        <div id="switch-accounts" >
          <button class="btn btn-default search-btn" id="log-out">Log in as another User</button>
        </div>

        <!-- <button class="btn btn-default search-btn" id="obtain-new-token">Obtain new token using the refresh token</button> -->
      </div>

      <footer>
        Enjoy!
      </footer>
    </article>

    <script id="user-profile-template" type="text/x-handlebars-template">
      <div class="media">
        <div class="pull-left">
          <img id="profile-image" src="{{images.0.url}}" />
        </div>
        <p>Hello,</p>
        <p id="user-id">{{id}}</p>
      </div>
      <!-- <div class="media-body">
        <dl class="dl-horizontal">
          <dt>Display name</dt><dd class="clearfix">{{display_name}}</dd>
          <dt>Email</dt><dd>{{email}}</dd>
          <dt>Spotify URI</dt><dd><a href="{{external_urls.spotify}}">{{external_urls.spotify}}</a></dd>
          <dt>Link</dt><dd><a href="{{href}}">{{href}}</a></dd>
          <dt>Profile Image</dt><dd class="clearfix"><a href="{{images.0.url}}">{{images.0.url}}</a></dd>
          <dt>Country</dt><dd>{{country}}</dd>
        </dl> 
      </div>-->
    </script>

    <script id="resulting-tracks-template" type="text/x-handlebars-template">
      <audio id="audio-{{id}}" class="audio">
        <source src="{{preview_url}}" />
      </audio>
      <div id="{{id}}" class='sb-track' onclick='removeSong(this)' onmouseover='PlaySample(this)' onmouseleave="StopSample(this)">
        <p class="sb-thumbnail-header">{{name}}</p>
        <img class="sb-thumbnail" width="50" src="{{album.images.0.url}}" title="Track: {{name}}&#10;Album: {{album.name}}&#10;Artist: {{artists.0.name}}" />
      </div>
    </script>

    <script id="resulting-playlists-template" type="text/x-handlebars-template">
      <div id="{{id}}" class='sb-playlist' onclick='removePlaylist(this)'> 
        <p class="sb-thumbnail-header">{{name}}</p>
        <img class="sb-thumbnail" src="{{images.0.url}}" title="{{name}}" />
      </div>
    </script>

    <script id="oauth-template" type="text/x-handlebars-template">
      <h2>oAuth info</h2>
      <dl class="dl-horizontal">
        <dt>Access token</dt><dd id="access_token" class="sb-text-overflow">{{access_token}}</dd>
        <dt>Refresh token</dt><dd class="sb-text-overflow">{{refresh_token}}</dd>
      </dl>
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="index.js"></script>
    <script src="songData.js"></script>
    <script src="comparers.js"></script>
  </body>
</html>